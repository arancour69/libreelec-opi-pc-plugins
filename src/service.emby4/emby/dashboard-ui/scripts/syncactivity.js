define(["loading","libraryMenu","apphost","globalize","syncJobList","events","localsync","emby-button","paper-icon-button-light"],function(loading,libraryMenu,appHost,globalize,syncJobList,events){"use strict";function getTabs(){return[{href:"syncactivity.html",name:globalize.translate("TabSyncJobs")},{href:"appservices.html?context=sync",name:globalize.translate("TabServices")},{href:"syncsettings.html",name:globalize.translate("TabSettings")}]}return function(view,params){var mySyncJobList=new syncJobList({serverId:ApiClient.serverId(),userId:"offline"===params.mode?null:ApiClient.getCurrentUserId(),element:view.querySelector(".syncActivity"),mode:params.mode});view.addEventListener("viewshow",function(){libraryMenu.setTabs("syncadmin",0,getTabs)}),view.addEventListener("viewdestroy",function(){mySyncJobList.destroy()})}});